import{a as h}from"./axios-L6U4YIEh.js";import{d as u}from"./dateMixin-rxM5WT6e.js";import{_ as w,c as r,a as o,F as i,h as _,o as n,t as e,d as a,b as y,w as b,p as f,e as x,r as v}from"./index-nIW-4OAN.js";var g={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hsuanin-vue2024",BASE_URL:"/2023-vue-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:P,VITE_PATH:k}=g,E={data(){return{orders:{}}},mixins:[u],methods:{async getOrders(){try{const c=`${P}/api/${k}/orders`,d=await h.get(c);console.log(d.data.orders),this.orders=d.data.orders}catch(c){alert(c.response?c.response.data.message:"訂單查詢時發生錯誤"),console.error(c)}}},mounted(){this.getOrders()}},s=c=>(f("data-v-df9c0968"),c=c(),x(),c),I={class:"container px-5"},S=s(()=>o("h2",{class:"my-4 text-primary border-primary-left ps-3"},"訂單查詢",-1)),T={class:"row justify-content-center pb-5"},V=s(()=>o("h3",{class:"fw-bold mb-4 pt-3 h5"},"訂單相關資訊",-1)),$={class:"col-12"},N={class:"accordion",id:"accordionExample"},j=["id","data-bs-target","aria-controls"],A={class:"mb-0 position-relative custom-checkout-label text-info fw-bold"},D=["id","aria-labelledby"],O={class:"card-body bg-light ps-3 py-4"},B={class:"mb-2",style:{margin:"0 auto","max-width":"900px"}},F={class:"woocommerce-order"},R={class:"woocommerce-notice woocommerce-notice--success woocommerce-thankyou-order-received"},q={class:"woocommerce-order-overview woocommerce-thankyou-order-details order_details"},C={class:"woocommerce-order-overview__order order"},H={class:"woocommerce-order-overview__date date"},L={class:"woocommerce-order-overview__total total"},M={class:"woocommerce-Price-amount amount"},U=s(()=>o("span",{class:"woocommerce-Price-currencySymbol"},"NT$",-1)),z={class:"woocommerce-order-overview__payment-method method"},G={class:"woocommerce-order-details"},J=s(()=>o("h5",{class:"woocommerce-order-details__title h5 text-info"},"訂購明細",-1)),K={class:"d-flex d-flex justify-content-center justify-content-md-start"},Q={class:"woocommerce-table woocommerce-table--order-details shop_table order_details"},W=s(()=>o("thead",{class:"p-3"},[o("tr",null,[o("th",{class:"woocommerce-table__product-name product-name px-2 py-1"},"訂購商品"),o("th",{class:"woocommerce-table__product-table product-total px-2 py-1"},"金額")])],-1)),X={class:"woocommerce-table__product-name product-name px-2 py-1"},Y={class:"product-quantity"},Z={class:"woocommerce-table__product-total product-total px-2 py-1"},oo={class:"woocommerce-Price-amount amount"},to=s(()=>o("span",{class:"woocommerce-Price-currencySymbol"},"NT$",-1)),eo=s(()=>o("th",{scope:"row",class:"px-2 py-1"},"總金額：",-1)),so={class:"woocommerce-Price-amount amount px-2 py-1"},co=s(()=>o("span",{class:"woocommerce-Price-currencySymbol"},"NT$",-1)),ao={class:"mt-3"},lo=s(()=>o("th",{scope:"row",class:"px-2 py-1"},"訊息留言：",-1)),ro={class:"woocommerce-Price-amount amount px-2 py-1"},no={class:"woocommerce-customer-details"},io=s(()=>o("h5",{class:"h6 mt-3 text-info"},"訂購人明細",-1)),_o={class:"d-flex justify-content-center justify-content-md-start"},mo={class:"woocommerce-table woocommerce-table--customer-details shop_table customer_details d-flex flex-wrap"},po={class:"w-100"},ho=s(()=>o("th",{class:"px-2 py-1"},"姓名:",-1)),uo={class:"w-100"},wo=s(()=>o("th",{class:"px-2 py-1"},"信箱:",-1)),yo={class:"w-100"},bo=s(()=>o("th",{class:"px-2 py-1"},"電話:",-1)),fo=s(()=>o("h5",{class:"woocommerce-column__title h6 mt-3 text-info"},"送貨地址 : ",-1)),xo=s(()=>o("h5",{class:"woocommerce-column__title h6 mt-3 text-info"},"是否付款 : ",-1));function vo(c,d,go,Po,m,ko){const p=v("router-link");return n(),r("div",I,[S,o("div",T,[V,o("div",$,[o("div",N,[(n(!0),r(i,null,_(m.orders,t=>(n(),r("div",{class:"card rounded-0",key:t.id},[o("div",{class:"card-header bg-white border-0 py-3",id:"heading"+t.id,"data-bs-toggle":"collapse","data-bs-target":"#collapse"+t.id,"aria-expanded":"true","aria-controls":"collapse"+t.id},[o("p",A," 訂單編號 : "+e(t.id),1)],8,j),o("div",{id:"collapse"+t.id,class:"collapse","aria-labelledby":"heading"+t.id,"data-bs-parent":"#accordionExample"},[o("div",O,[o("div",B,[o("div",F,[o("p",R,e(t.user.name)+"您好，此為你這次的訂單明細",1),o("ul",q,[o("li",C,[a(" 訂單編號 : "),o("strong",null,e(t.id),1)]),o("li",H,[a(" 訂購時間 :"),o("strong",null,e(c.formatDate(t.create_at)),1)]),o("li",L,[a(" 訂單金額 :"),o("strong",null,[o("span",M,[U,a(e(t.total),1)])])]),o("li",z,[a(" 取貨時間及方式: "),o("strong",null,e(t.message),1)])]),o("section",G,[J,o("div",K,[o("table",Q,[W,o("tbody",null,[(n(!0),r(i,null,_(t.products,l=>(n(),r("tr",{class:"woocommerce-table__line-item order_item",key:l.id},[o("td",X,[y(p,{to:`product/${l.product.id}`},{default:b(()=>[a(e(l.product.title),1)]),_:2},1032,["to"]),a(),o("strong",Y,"× "+e(l.qty),1)]),o("td",Z,[o("span",oo,[to,a(e(l.final_total),1)])])]))),128))]),o("tfoot",null,[o("tr",null,[eo,o("td",null,[o("span",so,[co,a(e(t.total),1)])])]),o("tr",ao,[lo,o("td",null,[o("span",ro,e(t.message),1)])])])])]),o("section",no,[io,o("div",_o,[o("table",mo,[o("tbody",null,[o("tr",po,[ho,o("td",null,e(t.user.name),1)]),o("tr",uo,[wo,o("td",null,e(t.user.email),1)]),o("tr",yo,[bo,o("td",null,e(t.user.tel),1)])])])]),fo,o("p",null,e(t.user.address),1),xo,o("p",null,e(t.is_paid?"已付款":"未付款"),1)])])])])])],8,D)]))),128))])])])])}const To=w(E,[["render",vo],["__scopeId","data-v-df9c0968"]]);export{To as default};
