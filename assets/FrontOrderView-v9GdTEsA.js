import{a as h}from"./axios-L6U4YIEh.js";import{d as u}from"./dateMixin-rxM5WT6e.js";import{f as w}from"./formatNumberMixin-IlVSA5eF.js";import{_ as b,c as l,a as o,F as d,h as _,o as n,t,d as a,b as f,w as y,p as x,e as v,r as g}from"./index-ysVj30m5.js";var P={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hsuanin-vue2024",BASE_URL:"/2023-vue-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:k,VITE_PATH:E}=P,I={data(){return{orders:{}}},mixins:[u,w],methods:{async getOrders(){try{const c=`${k}/api/${E}/orders`,i=await h.get(c);console.log(i.data.orders),this.orders=i.data.orders}catch(c){alert(c.response?c.response.data.message:"訂單查詢時發生錯誤"),console.error(c)}}},mounted(){this.getOrders()}},s=c=>(x("data-v-7e7f460f"),c=c(),v(),c),N={class:"container px-5"},S=s(()=>o("h2",{class:"my-4 text-primary border-primary-left ps-3"},"訂單查詢",-1)),T={class:"row justify-content-center pb-5"},V=s(()=>o("h3",{class:"fw-bold mb-4 pt-3 h5"},"訂單相關資訊",-1)),$={class:"col-12"},j={class:"accordion",id:"accordionExample"},A=["id","data-bs-target","aria-controls"],D={class:"mb-0 position-relative custom-checkout-label text-info fw-bold"},O=["id","aria-labelledby"],B={class:"card-body bg-light ps-3 py-4"},F={class:"mb-2",style:{margin:"0 auto","max-width":"900px"}},M={class:"woocommerce-order"},R={class:"woocommerce-notice woocommerce-notice--success woocommerce-thankyou-order-received"},q={class:"woocommerce-order-overview woocommerce-thankyou-order-details order_details"},C={class:"woocommerce-order-overview__order order"},H={class:"woocommerce-order-overview__date date"},L={class:"woocommerce-order-overview__total total"},U={class:"woocommerce-Price-amount amount"},z=s(()=>o("span",{class:"woocommerce-Price-currencySymbol"},"NT$",-1)),G={class:"woocommerce-order-overview__payment-method method"},J={class:"woocommerce-order-details"},K=s(()=>o("h5",{class:"woocommerce-order-details__title h5 text-info"},"訂購明細",-1)),Q={class:"d-flex d-flex justify-content-center justify-content-md-start"},W={class:"woocommerce-table woocommerce-table--order-details shop_table order_details"},X=s(()=>o("thead",{class:"p-3"},[o("tr",null,[o("th",{class:"woocommerce-table__product-name product-name px-2 py-1"},"訂購商品"),o("th",{class:"woocommerce-table__product-table product-total px-2 py-1"},"金額")])],-1)),Y={class:"woocommerce-table__product-name product-name px-2 py-1"},Z={class:"product-quantity"},oo={class:"woocommerce-table__product-total product-total px-2 py-1"},eo={class:"woocommerce-Price-amount amount"},to=s(()=>o("span",{class:"woocommerce-Price-currencySymbol"},"NT$",-1)),so=s(()=>o("th",{scope:"row",class:"px-2 py-1"},"總金額：",-1)),co={class:"woocommerce-Price-amount amount px-2 py-1"},ao=s(()=>o("span",{class:"woocommerce-Price-currencySymbol"},"NT$",-1)),ro={class:"mt-3"},lo=s(()=>o("th",{scope:"row",class:"px-2 py-1"},"訊息留言：",-1)),no={class:"woocommerce-Price-amount amount px-2 py-1"},io={class:"woocommerce-customer-details"},_o=s(()=>o("h5",{class:"h6 mt-3 text-info"},"訂購人明細",-1)),mo={class:"d-flex justify-content-center justify-content-md-start"},po={class:"woocommerce-table woocommerce-table--customer-details shop_table customer_details d-flex flex-wrap"},ho={class:"w-100"},uo=s(()=>o("th",{class:"px-2 py-1"},"姓名:",-1)),wo={class:"w-100"},bo=s(()=>o("th",{class:"px-2 py-1"},"信箱:",-1)),fo={class:"w-100"},yo=s(()=>o("th",{class:"px-2 py-1"},"電話:",-1)),xo=s(()=>o("h5",{class:"woocommerce-column__title h6 mt-3 text-info"},"送貨地址 : ",-1)),vo=s(()=>o("h5",{class:"woocommerce-column__title h6 mt-3 text-info"},"是否付款 : ",-1));function go(c,i,Po,ko,m,Eo){const p=g("router-link");return n(),l("div",N,[S,o("div",T,[V,o("div",$,[o("div",j,[(n(!0),l(d,null,_(m.orders,e=>(n(),l("div",{class:"card rounded-0",key:e.id},[o("div",{class:"card-header bg-white border-0 py-3",id:"heading"+e.id,"data-bs-toggle":"collapse","data-bs-target":"#collapse"+e.id,"aria-expanded":"true","aria-controls":"collapse"+e.id},[o("p",D," 訂單編號 : "+t(e.id),1)],8,A),o("div",{id:"collapse"+e.id,class:"collapse","aria-labelledby":"heading"+e.id,"data-bs-parent":"#accordionExample"},[o("div",B,[o("div",F,[o("div",M,[o("p",R,t(e.user.name)+"您好，此為你這次的訂單明細",1),o("ul",q,[o("li",C,[a(" 訂單編號 : "),o("strong",null,t(e.id),1)]),o("li",H,[a(" 訂購時間 :"),o("strong",null,t(c.formatDate(e.create_at)),1)]),o("li",L,[a(" 訂單金額 :"),o("strong",null,[o("span",U,[z,a(t(c.formatNumber(e.total)),1)])])]),o("li",G,[a(" 取貨時間及方式: "),o("strong",null,t(e.message),1)])]),o("section",J,[K,o("div",Q,[o("table",W,[X,o("tbody",null,[(n(!0),l(d,null,_(e.products,r=>(n(),l("tr",{class:"woocommerce-table__line-item order_item",key:r.id},[o("td",Y,[f(p,{to:`product/${r.product.id}`},{default:y(()=>[a(t(r.product.title),1)]),_:2},1032,["to"]),a(),o("strong",Z,"× "+t(r.qty),1)]),o("td",oo,[o("span",eo,[to,a(t(c.formatNumber(r.final_total)),1)])])]))),128))]),o("tfoot",null,[o("tr",null,[so,o("td",null,[o("span",co,[ao,a(t(c.formatNumber(e.total)),1)])])]),o("tr",ro,[lo,o("td",null,[o("span",no,t(e.message),1)])])])])]),o("section",io,[_o,o("div",mo,[o("table",po,[o("tbody",null,[o("tr",ho,[uo,o("td",null,t(e.user.name),1)]),o("tr",wo,[bo,o("td",null,t(e.user.email),1)]),o("tr",fo,[yo,o("td",null,t(e.user.tel),1)])])])]),xo,o("p",null,t(e.user.address),1),vo,o("p",null,t(e.is_paid?"已付款":"未付款"),1)])])])])])],8,O)]))),128))])])])])}const Vo=b(I,[["render",go],["__scopeId","data-v-7e7f460f"]]);export{Vo as default};
