import{a as h}from"./axios-L6U4YIEh.js";import{_ as g,c as v,a as o,b as t,w as b,r,o as w,n as u,p as x,e as V}from"./index-nIW-4OAN.js";var k={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"hsuanin-vue2024",BASE_URL:"/2023-vue-week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{VITE_API:I}=k,S={data(){return{url:I,path:"hsuanin-vue2024",user:{username:"",password:""}}},methods:{submitLogin(){h.post(`${this.url}/admin/signin`,this.user).then(e=>{console.log(e);const{token:s,expired:l}=e.data;console.log(s,l),this.$router.push("/admin/product"),document.cookie=`hexToken= ${s}; expires=${new Date(l)}; path=/`}).catch(e=>{console.dir(e.response.data.message)})}},mounted(){}},a=e=>(x("data-v-cc6a99aa"),e=e(),V(),e),y={class:"container bg-background"},E={class:"row justify-content-center",style:{margin:"20px"}},T={class:"col-lg-6 col-md-8 login-box p-5"},A=a(()=>o("div",{class:"col-lg-12 login-title"}," 登入後台 ",-1)),B={class:"col-lg-12 login-form"},D={class:"form-group"},L=a(()=>o("label",{class:"form-control-label"},"帳號",-1)),P={class:"form-group"},C=a(()=>o("label",{class:"form-control-label"}," 密碼 ",-1)),R={class:"col-12 login-btn justify-content-center d-flex"},U=["disabled"],$=a(()=>o("p",{class:"mt-5 mb-3 text-muted"},"© 2021~∞ - 六角學院",-1));function j(e,s,l,q,n,p){const c=r("v-field"),d=r("error-message"),_=r("v-form");return w(),v("div",y,[o("div",E,[o("div",T,[A,o("div",B,[t(_,{id:"form",ref:"form",class:"form-signin",onSubmit:p.submitLogin},{default:b(({meta:f,errors:m})=>[o("div",D,[L,t(c,{id:"username",name:"帳號",type:"email",class:u(["form-control form-control-login input-login-password",{"is-invalid":m.帳號}]),placeholder:"請輸入帳號",modelValue:n.user.username,"onUpdate:modelValue":s[0]||(s[0]=i=>n.user.username=i),rules:"required"},null,8,["class","modelValue"]),t(d,{name:"帳號",class:"invalid-feedback"})]),o("div",P,[C,t(c,{id:"password",name:"密碼",type:"password",class:u(["form-control form-control-login input-login-password",{"is-invalid":m.密碼}]),placeholder:"請輸入密碼",modelValue:n.user.password,"onUpdate:modelValue":s[1]||(s[1]=i=>n.user.password=i),rules:"required"},null,8,["class","modelValue"]),t(d,{name:"密碼",class:"invalid-feedback"})]),o("div",R,[o("button",{class:"btn btn-outline-primary-login",type:"submit",disabled:!f.valid},"登入",8,U)])]),_:1},8,["onSubmit"])])])]),$])}const z=g(S,[["render",j],["__scopeId","data-v-cc6a99aa"]]);export{z as default};
